name = "echo-chat"
compatibility_date = "2024-01-01"
# Note: Do NOT set compatibility_flags here or in dashboard
# The @cloudflare/next-on-pages adapter manages compatibility flags automatically
# Setting them manually causes conflicts (nodejs_compat_populate_process_env vs nodejs_compat_do_not_populate_process_env)

# D1 Database binding
[[d1_databases]]
binding = "DB"
database_name = "echo-db"
database_id = "0f37239d-cd8b-4366-8c88-b11a89076a6e"

# Workers AI binding
[ai]
binding = "AI"

# Environment variables
[vars]
GIPHY_API_KEY = "6zzmXysXbC6FVLIrBCIeQUTEjtl9DNN5"
MESSAGE_EXPIRY_HOURS = "1"
ROOM_EXPIRY_HOURS = "24"

# KV namespace for rate limiting (optional)
[[kv_namespaces]]
binding = "RATE_LIMITER"
id = "your-kv-namespace-id" # Replace with your actual KV namespace ID
